<html >
<head>
	<title></title>
	<meta charset="UTF-8">


	<style type="text/css">
	* {
		box-sizing: border-box;
		margin: 0;
		padding: 0;
		font-size: 25px;
		font-weight: 100;
		font-family: sans-serif;
	}
	body {
		background: linear-gradient(to bottom, rgb(45,175,217) 0%,rgb(40,148,152) 100%);
	}
	div {
		width: 500px;
		margin:100px auto 0 auto;
		height: 650px;
		box-shadow:0px 0px 20px 0px rgba(50, 50, 50, 0.5);
	}
	p {
		width: 100%;
		border: none;
		color: white;
		padding-right: 10px;
		letter-spacing: 3px;
		height: 150px;
		background:#165569;
		font-size: 60px;
		display: flex;
		align-items: center;
		flex-direction: row-reverse;


	}
	button {
		width: 100px;
		height: 100px;
		background: #1D3C49;
		border: 1px solid #1D414D; 
		float: left;
		cursor: pointer;
		color: #14d9e0;

	}
	
	.result {
		background: #14d9e0;
		font-size: 40px;
		border: 1px solid #1D414D; 
	}
	.num {
		color: white;
	}
	.ope {
		font-size:40px;
	}
	button:active {	
		background:#165569; 
	}
	button:focus{	
		outline:none; 
	}

	</style>


</head>		

<body>

	<div>
		<p id="kq"></p>
		<button onclick="c()">C</button>
		<button onclick="back()">←</button>
		<button onclick="butSwitch()">+/−</button>
		<button onclick="butSquare()">x²</button>
		<button onclick="press(this)">x!</button>
		<button onclick="press(this)" class="num">7</button>
		<button onclick="press(this)" class="num">8</button>
		<button onclick="press(this)" class="num">9</button>
		<button onclick="press(this)">%</button>
		<button onclick="press(this)">√</button>
		<button onclick="press(this)" class="num">4</button>
		<button onclick="press(this)" class="num">5</button>
		<button onclick="press(this)" class="num">6</button>
		<button onclick="press(this)" class="ope">+</button>
		<button onclick="press(this)" class="ope">-</button>
		<button onclick="press(this)" class="num">1</button>
		<button onclick="press(this)" class="num">2</button>
		<button onclick="press(this)" class="num">3</button>
		<button onclick="press(this)" class="ope">×</button>
<<<<<<< HEAD
		<button onclick="press(this)" class="ope">÷</button>
		<button onclick="press(this)">(</button>
		<button onclick="press(this)">)</button>
=======
		<button onclick="press(this)" class="ope">÷</button>	
		<button onclick="butOpen()">(</button>
		<button onclick="butClose()">)</button>
>>>>>>> origin/master
		<button onclick="press(this)" class="num">0</button>
		<button onclick="butDot()">.</button>
		<button onclick="result()" class="num result">=</button>
	</div>



	<script>

	var lastChar = '';
	var dot = true ;
	var operation = ['+','-','×','÷'];

	function press(button){	
		if (operation.indexOf(button.innerText) > -1 ) { // nếu nút ấn vào là phép toán thuộc mảng trên
			if (operation.indexOf(lastChar) == -1 && lastChar != ''){ // nếu kí tự cuối không phải là phép toán và là 1 số gì đó rồi
				kq.innerText += button.innerText ;
				lastChar = button.innerText;
				dot = true;
			}
			else if (lastChar == ''){ // nếu kí tự cuối không có gì cả
				kq.innerText = '' ;
			}
			else { // nếu kí tự cuối là phép toán 
				kq.innerText = kq.innerText.substr(0,kq.innerText.length-1);
				kq.innerText += button.innerText ;
				lastChar = button.innerText;
			}
		}
		else { // trường hợp còn lại : nếu nút ấn là số bỉnh thường
			kq.innerText += button.innerText ;
			lastChar = button.innerText;
		}			
	}

	function butDot(){
		if (lastChar != '' && lastChar != '.' && dot == true && Number(lastChar)>=0 ){
			kq.innerText += '.' ;
			lastChar = '.';
			dot = false ;
		}
		else { kq.innerText = kq.innerText ;}	
	}

<<<<<<< HEAD
	function press(button){
		var lastChar = button.innerText ;
		if (operation.indexOf(button.innerText) > -1 ) {
			if (operation.indexOf(lastChar) != -1) {
				kq.innerText = kq.innerText.substr(0,kq.innerText.length-1) + button.innerText ;
			}
		}	
		else {
			kq.innerText += button.innerText ;
			lastChar = button.innerText

		}
	}

=======
	function result(){	
		kq.innerText = kq.innerText.replace(/×/g, '*').replace(/÷/g, '/');  
		kq.innerText = eval(kq.innerText) ;
	}

	function c(){
		kq.innerText = lastChar = '' ;
		dot = true ;
	}

	function back() {
		kq.innerText = kq.innerText.substr(0,kq.innerText.length-1);
	}

	function butOpen() {	
		if ( lastChar != '(' && Number(lastChar)>=0 ) {
			kq.innerText += '(' ;
			lastChar = '(';
		}
		// else if (lastChar == '') {
		// 	kq.innerText += '(' ;
		// 	lastChar = '(';
		// }
		else { kq.innerText = kq.innerText ;}	
	}
>>>>>>> origin/master

	function butClose() {	
		if ( lastChar != ')' && Number(lastChar)>=0 && kq.innerText.search(/\(/) > -1) {
			kq.innerText += ')' ;
			lastChar = ')';
		}
		else { kq.innerText = kq.innerText ;}	
	}
	function butSwitch() {
		kq.innerText = kq.innerText*(-1);
	}
	function butSquare() {
		kq.innerText = Math.pow(kq.innerText,2);

	}






	</script>


</body>			
</html>

